!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){for(var e=document.querySelectorAll(".sf-menu .menu-item-has-children"),t=(document.body,document.querySelectorAll("nav ul a")),s=document.documentElement,n=function(){if(!this.closest("nav").classList.contains("toggled")&&!this.closest("nav").classList.contains("slideout-navigation"))for(var e=this;-1===e.className.indexOf("main-nav");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("sfHover")?e.className=e.className.replace(" sfHover",""):e.className+=" sfHover"),e=e.parentElement},o=0;o<t.length;o++)t[o].addEventListener("focus",n),t[o].addEventListener("blur",n);if("touchend"in document.documentElement)for(o=0;o<e.length;o++)e[o].addEventListener("touchend",function(t){if(!e[o].closest("nav").classList.contains("toggled")&&1===t.touches.length&&(t.stopPropagation(),!this.classList.contains("sfHover"))){t.target!==this&&t.target.parentNode!==this||t.preventDefault();var s=e[o].closest("nav").querySelectorAll("ul.toggled-on");if(s&&!this.closest("ul").classList.contains("toggled-on")&&!this.closest("li").classList.contains("sfHover"))for(var n=0;n<s.length;n++)s[n].classList.remove("toggled-on"),s[n].closest("li").classList.remove("sfHover");this.classList.add("sfHover"),document.addEventListener("touchend",closeDropdown=function(e){e.stopPropagation(),this.classList.remove("sfHover"),document.removeEventListener("touchend",closeDropdown)})}},!0);for(var i=function(e){this.closest("nav").classList.contains("toggled")||this.classList.toggle("sfHover")},a=document.querySelectorAll(".secondary-navigation .menu-item-has-children"),o=0;o<a.length;o++)a[o].addEventListener("mouseenter",i),a[o].addEventListener("mouseleave",i);for(o=0;o<t.length;o++)t[o].addEventListener("click",function(e){if(this.closest("nav").classList.contains("toggled")||s.classList.contains("slide-opened")){var t=this.getAttribute("href");if("#"==t||""==t){e.preventDefault();var n=this.closest("li");n.classList.toggle("sfHover");var o=n.querySelector(".sub-menu");o&&o.classList.toggle("toggled-on")}"#"===t||""===t||navigator.userAgent.match(/iemobile/i)||setTimeout(function(){this.closest("nav").classList.remove("toggled"),s.classList.remove("mobile-menu-open")},200)}},!1)}}();