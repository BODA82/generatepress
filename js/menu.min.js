!function(){if("querySelector"in document&&"addEventListener"in window){Element.prototype.closest||(Element.prototype.closest=function(e){var t,o=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=o.length;--t>=0&&o.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),isVisible=function(e){return null!==e.offsetParent},Element.prototype.siblings||(Element.prototype.siblings=function(){for(var e=[],t=this.parentNode.firstChild;t;t=t.nextSibling)1===t.nodeType&&t!==this&&e.push(t);return e});var e,t=document.querySelectorAll(".sf-menu .menu-item-has-children"),o=document.querySelectorAll(".menu-toggle"),n=document.querySelectorAll("nav .dropdown-menu-toggle"),s=document.querySelectorAll("nav ul a"),i=document.documentElement,l=document.querySelectorAll(".secondary-navigation .menu-item-has-children");toggleNav=function(t,o){if(!o)var o=this;if(o.getAttribute("data-nav"))n=document.getElementById(o.getAttribute("data-nav"));else var n=document.getElementById(o.closest("nav").getAttribute("id"));if(e=n.getElementsByTagName("ul")[0],n.classList.contains("toggled")){if(n.classList.remove("toggled"),i.classList.remove("mobile-menu-open"),e.setAttribute("aria-hidden","true"),document.body.classList.contains("dropdown-hover"))for(var s=e.querySelectorAll("li.menu-item-has-children"),l=0;l<s.length;l++)s[l].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","")}else if(n.classList.add("toggled"),i.classList.add("mobile-menu-open"),e.setAttribute("aria-hidden","false"),document.body.classList.contains("dropdown-hover"))for(var s=e.querySelectorAll("li.menu-item-has-children"),l=0;l<s.length;l++)s[l].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","0")};for(a=0;a<o.length;a++)o[a].addEventListener("click",toggleNav,!1);toggleSubNav=function(e,t){if(!t)var t=this;if((t.closest("nav").classList.contains("toggled")||i.classList.contains("slide-opened"))&&!document.body.classList.contains("dropdown-click")){e.preventDefault();var o=t.closest("li"),n=o.querySelector(".sub-menu");o.classList.toggle("sfHover"),n.classList.toggle("toggled-on")}e.stopPropagation()};for(a=0;a<n.length;a++)n[a].addEventListener("click",toggleSubNav,!1),n[a].addEventListener("keypress",function(e){13===(e.which||e.keyCode)&&toggleSubNav(e,this)},!1);checkMobile=function(){for(var e=0;e<o.length;e++)if(!isVisible(o[e])){var t=o[e].closest("nav"),n=t.getElementsByTagName("ul")[0],s=n.getElementsByTagName("li"),l=n.getElementsByTagName("ul");if(t){t.classList.remove("toggled"),i.classList.remove("mobile-menu-open");for(var r=0;r<s.length;r++)s[r].classList.remove("sfHover");for(var a=0;a<l.length;a++)l[a].classList.remove("toggled-on");n&&n.setAttribute("aria-hidden","true")}}},window.addEventListener("resize",checkMobile,!1),window.addEventListener("orientationchange",checkMobile,!1);for(a=0;a<s.length;a++)s[a].addEventListener("click",function(t){if((this.closest("nav").classList.contains("toggled")||i.classList.contains("slide-opened"))&&!document.body.classList.contains("dropdown-click")){var o=this.closest("nav"),n=this.getAttribute("href");if("#"==n||""==n){t.preventDefault();var s=this.closest("li");s.classList.toggle("sfHover");var l=s.querySelector(".sub-menu");l&&l.classList.toggle("toggled-on")}"#"===n||""===n||navigator.userAgent.match(/iemobile/i)||setTimeout(function(){o.classList.remove("toggled"),i.classList.remove("mobile-menu-open"),e.setAttribute("aria-hidden","true")},200)}},!1);if(document.body.classList.contains("dropdown-hover")){for(var r=function(){if(!this.closest("nav").classList.contains("toggled"))for(var e=this;-1===e.className.indexOf("main-nav");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("sfHover")?e.className=e.className.replace(" sfHover",""):e.className+=" sfHover"),e=e.parentElement},a=0;a<s.length;a++)s[a].addEventListener("focus",r),s[a].addEventListener("blur",r);if("touchend"in document.documentElement)for(a=0;a<t.length;a++){var c=t[a];c.parentNode.closest(".menu-item-has-children");c.addEventListener("touchend",function(e){if(!c.closest("nav").classList.contains("toggled")&&1===e.touches.length&&(e.stopPropagation(),!this.classList.contains("sfHover"))){e.target!==this&&e.target.parentNode!==this||e.preventDefault();for(var t=this.closest("li").siblings(),o=0;o<t.length;o++)t[o].querySelector(".toggled-on")&&t[o].querySelector(".toggled-on").classList.remove("toggled-on"),t[o].classList.remove("sfHover");this.classList.add("sfHover"),document.addEventListener("touchend",closeDropdown=function(e){e.stopPropagation(),this.classList.remove("sfHover"),document.removeEventListener("touchend",closeDropdown)})}},!0)}for(var d=function(e){this.closest("nav").classList.contains("toggled")||this.classList.toggle("sfHover")},a=0;a<l.length;a++)l[a].addEventListener("mouseenter",d),l[a].addEventListener("mouseleave",d)}if(dropdownClick=function(e,t){if(e.preventDefault(),e.stopPropagation(),!t)var t=this;var o=t.closest("li"),n=o.siblings();t.closest("nav").classList.contains(".main-navigation")&&isVisible(document.querySelector(".secondary-navigation ul.toggled-on"))&&document.querySelector(".secondary-navigation .main-nav .menu-item-has-children > a").parentNode.classList.remove("sfHover");for(var s=0;s<n.length;s++)n[s].querySelector(".toggled-on")&&n[s].querySelector(".toggled-on").classList.remove("toggled-on"),n[s].classList.remove("sfHover");o.classList.toggle("sfHover"),document.body.classList.contains("dropdown-click-menu-item")?t.parentNode.querySelector(".sub-menu").classList.toggle("toggled-on"):document.body.classList.contains("dropdown-click-arrow")&&o.querySelector(".sub-menu").classList.toggle("toggled-on")},document.body.classList.contains("dropdown-click")){var u=document.querySelectorAll(".main-nav .menu-item-has-children > a");if(document.body.classList.contains("dropdown-click-menu-item"))for(a=0;a<u.length;a++)u[a].addEventListener("click",dropdownClick,!0);if(document.body.classList.contains("dropdown-click-arrow")){for(a=0;a<document.querySelectorAll(".main-nav .menu-item-has-children > a").length;a++)"#"==document.querySelectorAll(".main-nav .menu-item-has-children > a")[a].getAttribute("href")&&document.querySelectorAll(".main-nav .menu-item-has-children > a")[a].classList.add("menu-item-dropdown-click");for(var m=document.querySelectorAll(".main-nav .menu-item-has-children > a .dropdown-menu-toggle"),a=0;a<m.length;a++)m[a].addEventListener("click",dropdownClick,!1),m[a].addEventListener("keydown",function(e){var t=this;13===(e.which||e.keyCode)&&dropdownClick(e,t)},!1);for(a=0;a<document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click").length;a++)document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click")[a].addEventListener("click",dropdownClick,!1)}document.addEventListener("click",function(e){if(document.querySelector("nav ul .toggled-on")&&!e.target.closest(".sfHover"))for(var t=document.querySelectorAll("nav ul .toggled-on"),o=0;o<t.length;o++)t[o].classList.remove("toggled-on"),t[o].closest(".sfHover").classList.remove("sfHover")},!1),document.addEventListener("keydown",function(e){if(document.querySelector("nav ul .toggled-on")&&27===(e.which||e.keyCode))for(var t=document.querySelectorAll("nav ul .toggled-on"),o=0;o<t.length;o++)t[o].classList.remove("toggled-on"),t[o].closest(".sfHover").classList.remove("sfHover")},!1)}}}();