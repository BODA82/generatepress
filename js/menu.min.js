getClosest=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},isVisible=function(e){return null!==e.offsetParent},addClass=function(e,t){0!==e.className.indexOf(t)&&(e.className+=" "+t,e.className=e.className.replace(/(^\s*)|(\s*$)/g,""))},removeClass=function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/(^\s*)|(\s*$)/g,"")},getSiblings=function(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t};for(var parentElements=document.querySelectorAll(".sf-menu .menu-item-has-children"),nav,allNavToggles=document.querySelectorAll(".menu-toggle"),searchIcons=document.querySelectorAll(".search-item a"),navToggle=document.querySelector(".menu-toggle"),dropdownToggle=document.querySelectorAll("nav .dropdown-menu-toggle"),navLinks=document.querySelectorAll("nav a"),htmlEl=document.documentElement,toggleSubMenu=function(e){var t=getClosest(this,".main-nav").previousElementSibling;isVisible(t)?this.querySelector("ul").style.left="-9999px":this.classList.toggle("sfHover")},i=0;i<parentElements.length;i++)document.body.classList.contains("dropdown-hover")&&(parentElements[i].addEventListener("mouseenter",toggleSubMenu),parentElements[i].addEventListener("mouseleave",toggleSubMenu));if(document.body.classList.contains("dropdown-hover")&&"ontouchstart"in document.documentElement)for(var i=0;i<parentElements.length;i++){var $this=parentElements[i],mobile=getClosest(this,".main-nav").previousElementSibling,closestParent=getClosest($this.parentNode,".menu-item-has-children");isVisible(mobile)||closestParent.classList.contains("mega-menu")||this.addEventListener("touchstart",function(e){if(1===e.touches.length&&(e.stopPropagation(),!$this.classList.contains("sfHover"))){e.target!==this&&e.target.parentNode!==this||e.preventDefault();for(var t=getClosest($this,"li"),n=getSiblings(t),o=0;o<n.length;o++)n[o].querySelector(".toggled-on")&&n[o].querySelector(".toggled-on").classList.remove("toggled-on"),n[o].classList.remove("sfHover");$this.classList.add("sfHover"),document.addEventListener("touchstart",closeDropdown=function(e){e.stopPropagation(),$this.classList.remove("sfHover"),document.removeEventListener("touchstart",closeDropdown)})}},!1)}for(var toggleFocus=function(){var e=getClosest(this,".main-nav").previousElementSibling;if(!isVisible(e)&&!document.body.classList.contains("dropdown-click"))for(var t=this;-1===t.className.indexOf("main-nav");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("sfHover")?t.className=t.className.replace(" sfHover",""):t.className+=" sfHover"),t=t.parentElement},i=0;i<navLinks.length;i++)navLinks[i].addEventListener("focus",toggleFocus),navLinks[i].addEventListener("blur",toggleFocus);toggleNav=function(){this.getAttribute("data-nav")?parent=document.querySelector(this.getAttribute("data-nav")):parent=getClosest(this,"nav"),nav=parent.getElementsByTagName("ul")[0],parent.classList.contains("toggled")?(removeClass(parent,"toggled"),removeClass(htmlEl,"mobile-menu-open"),nav.setAttribute("aria-hidden","true")):(addClass(parent,"toggled"),addClass(htmlEl,"mobile-menu-open"),nav.setAttribute("aria-hidden","false"))};for(var i=0;i<allNavToggles.length;i++)allNavToggles[i].addEventListener("click",toggleNav,!1),allNavToggles[i].addEventListener("keypress",function(){13===(e.which||e.keyCode)&&toggleNav()},!1);toggleSubNav=function(e){if(isVisible(navToggle)){e.preventDefault();var t=getClosest(this,"li");t.classList.toggle("sfHover"),t.querySelector(".sub-menu").classList.toggle("toggled-on")}e.stopPropagation()};for(var i=0;i<dropdownToggle.length;i++)dropdownToggle[i].addEventListener("click",toggleSubNav,!1);checkMobile=function(){for(var e=0;e<allNavToggles.length;e++)if(!isVisible(allNavToggles[e])){var t=getClosest(allNavToggles[e],"nav"),n=t.getElementsByTagName("ul")[0],o=n.getElementsByTagName("li"),s=n.getElementsByTagName("ul");if(t){removeClass(t,"toggled"),removeClass(htmlEl,"mobile-menu-open");for(var l=0;l<o.length;l++)removeClass(o[l],"sfHover");for(var i=0;i<s.length;i++)removeClass(s[i],"toggled-on");n&&n.setAttribute("aria-hidden","true")}}},window.addEventListener("resize",checkMobile,!1),window.addEventListener("orientationchange",checkMobile,!1);for(var i=0;i<navLinks.length;i++)navLinks[i].addEventListener("click",function(e){if(isVisible(navToggle)){var t=this.getAttribute("href");if("#"==t||""==t){e.preventDefault();var n=getClosest(this,"li");n.classList.toggle("sfHover");var o=n.querySelector(".sub-menu");o&&o.classList.toggle("toggled-on")}"#"!==t&&""!==t&&(removeClass(parent,"toggled"),removeClass(htmlEl,"mobile-menu-open"),nav.setAttribute("aria-hidden","true"))}},!1);if(dropdownClick=function(e){e.preventDefault();var t=this,n=getClosest(t,"li"),o=getSiblings(n);if(getClosest(t,"nav").classList.contains(".main-navigation")&&isVisible(".secondary-navigation ul.toggled-on")){var s=document.querySelector(".secondary-navigation .main-nav .menu-item-has-children > a");removeClass(s.parentNode,"sfHover")}for(var l=0;l<o.length;l++)o[l].querySelector(".toggled-on")&&o[l].querySelector(".toggled-on").classList.remove("toggled-on"),o[l].classList.remove("sfHover");n.classList.toggle("sfHover"),document.body.classList.contains("dropdown-click-menu-item")?t.parentNode.querySelector(".sub-menu").classList.toggle("toggled-on"):document.body.classList.contains("dropdown-click-arrow")&&n.querySelector(".sub-menu").classList.toggle("toggled-on")},document.body.classList.contains("dropdown-click")){var parentElementLinks=document.querySelectorAll(".sf-menu .menu-item-has-children > a"),dropdownToggleLinks=document.querySelectorAll(".sf-menu .menu-item-has-children > a .dropdown-menu-toggle");if(document.body.classList.contains("dropdown-click-menu-item"))for(var i=0;i<parentElementLinks.length;i++)parentElementLinks[i].addEventListener("click",dropdownClick,!0);if(document.body.classList.contains("dropdown-click-arrow")){for(var i=0;i<document.querySelectorAll(".sf-menu .menu-item-has-children > a").length;i++)"#"==document.querySelectorAll(".sf-menu .menu-item-has-children > a")[i].getAttribute("href")&&document.querySelectorAll(".sf-menu .menu-item-has-children > a")[i].classList.add("menu-item-dropdown-click");for(var i=0;i<dropdownToggleLinks.length;i++)dropdownToggleLinks[i].addEventListener("click",dropdownClick,!1),dropdownToggleLinks[i].addEventListener("keydown",function(e){13===(e.which||e.keyCode)&&dropdownClick(e)},!1);for(var i=0;i<document.querySelectorAll(".sf-menu .menu-item-has-children > a.menu-item-dropdown-click").length;i++)document.querySelectorAll(".sf-menu .menu-item-has-children > a.menu-item-dropdown-click")[i].addEventListener("click",dropdownClick,!1)}}if(toggleSearch=function(e,t){if(e.preventDefault(),!t)var t=this.parentNode;var n=getClosest(t,"nav");t.getAttribute("data-nav")&&(n=document.querySelector(this.getAttribute("data-nav")));var o=n.querySelector(".navigation-search");isVisible(o)?(t.querySelector("i").classList.remove("fa-close"),t.querySelector("i").classList.add("fa-search"),t.style.opacity="1",t.style.float="",o.style.display="none",o.classList.remove("nav-search-active"),t.classList.remove("active")):(t.style.opacity="0",o.style.display="block",o.querySelector("input").focus(),o.classList.add("nav-search-active"),setTimeout(function(){t.querySelector("i").classList.remove("fa-search"),t.querySelector("i").classList.add("fa-close"),t.classList.add("active"),document.body.classList.contains("rtl")?t.style.float="left":t.style.float="right",t.style.opacity="1"},250))},document.body.classList.contains("nav-search-enabled")){for(var i=0;i<searchIcons.length;i++)searchIcons[i].addEventListener("click",toggleSearch,!1);document.addEventListener("keydown",function(e){document.querySelector(".navigation-search").classList.contains("nav-search-active")&&27===(e.which||e.keyCode)&&toggleSearch(e,document.querySelector(".search-item.active a"))},!1)}