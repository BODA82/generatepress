!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null});for(var d=document.querySelectorAll(".menu-toggle"),e=document.querySelectorAll("nav button.dropdown-menu-toggle"),t=document.querySelectorAll("nav ul a"),c=document.body,u=document.documentElement,n=function(e,t){if(!t)t=this;if(t.getAttribute("data-nav"))var n=document.getElementById(t.getAttribute("data-nav"));else n=document.getElementById(t.closest("nav").getAttribute("id"));var o=n.getElementsByTagName("ul")[0];if(n.classList.contains("toggled")){if(n.classList.remove("toggled"),u.classList.remove("mobile-menu-open"),o.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"),c.classList.contains("dropdown-hover"))for(var s=o.querySelectorAll("li.menu-item-has-children"),r=0;r<s.length;r++)s[r].querySelector("button.dropdown-menu-toggle").setAttribute("tabindex","-1"),s[r].querySelector("button.dropdown-menu-toggle").setAttribute("aria-expanded","false"),s[r].classList.remove("sfHover"),s[r].querySelector("ul").classList.remove("toggled-on")}else if(n.classList.add("toggled"),u.classList.add("mobile-menu-open"),o.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),c.classList.contains("dropdown-hover"))for(s=o.querySelectorAll("li.menu-item-has-children"),r=0;r<s.length;r++)s[r].querySelector("button.dropdown-menu-toggle").setAttribute("tabindex","0")},o=0;o<d.length;o++)d[o].addEventListener("click",n,!1);var s=function(e,t){if(!t)t=this;if((t.closest("nav").classList.contains("toggled")||u.classList.contains("slide-opened"))&&!c.classList.contains("dropdown-click")){e.preventDefault();var n=t.closest("li"),o=n.querySelector("button.dropdown-menu-toggle");if("false"!==o.getAttribute("aria-expanded")&&o.getAttribute("aria-expanded")?o.setAttribute("aria-expanded","false"):o.setAttribute("aria-expanded","true"),n.querySelector(".sub-menu"))var s=n.querySelector(".sub-menu");else s=n.querySelector(".children");n.classList.toggle("sfHover"),s.classList.toggle("toggled-on")}e.stopPropagation()};for(o=0;o<e.length;o++)e[o].addEventListener("click",s,!1),e[o].addEventListener("keypress",function(e){13===(e.which||e.keyCode)&&s(e,this)},!1);var r=function(){for(var e=0;e<d.length;e++)if(null===d[e].offsetParent){var t=d[e].closest("nav");if(t&&t.classList.contains("toggled")){var n=t.getElementsByTagName("ul")[0],o=n.getElementsByTagName("li"),s=n.getElementsByTagName("ul");document.activeElement.blur(),t.classList.remove("toggled"),u.classList.remove("mobile-menu-open"),d[e].setAttribute("aria-expanded","false");for(var r=0;r<o.length;r++)o[r].classList.remove("sfHover");for(var l=0;l<s.length;l++)s[l].classList.remove("toggled-on");if(n&&n.removeAttribute("aria-hidden"),c.classList.contains("dropdown-hover"))for(var i=t.querySelectorAll("li.menu-item-has-children"),a=0;a<i.length;a++)i[a].querySelector("button.dropdown-menu-toggle").setAttribute("tabindex","-1"),i[a].querySelector("button.dropdown-menu-toggle").setAttribute("aria-expanded","false")}}};if(window.addEventListener("resize",r,!1),window.addEventListener("orientationchange",r,!1),c.classList.contains("dropdown-hover"))for(o=0;o<t.length;o++)t[o].addEventListener("click",function(e){if(this.hostname!==window.location.hostname&&document.activeElement.blur(),this.closest("nav").classList.contains("toggled")||u.classList.contains("slide-opened")){var t=this.getAttribute("href");if("#"==t||""==t){e.preventDefault();var n=this.closest("li");n.classList.toggle("sfHover");var o=n.querySelector(".sub-menu");o&&o.classList.toggle("toggled-on")}}},!1)}}();
