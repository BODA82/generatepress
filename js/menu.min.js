!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this,s=this;if(!document.documentElement.contains(t))return null;do{if(s.matches(e))return s;s=s.parentElement}while(null!==s);return null});for(var e,t=document.querySelectorAll(".sf-menu .menu-item-has-children"),s=document.querySelectorAll(".menu-toggle"),n=document.querySelectorAll("nav .dropdown-menu-toggle"),o=document.querySelectorAll("nav ul a"),l=document.body,i=document.documentElement,a=0;a<s.length;a++)s[a].addEventListener("click",function(t,s){if(!s)var s=this;if(s.getAttribute("data-nav"))n=document.getElementById(s.getAttribute("data-nav"));else var n=document.getElementById(s.closest("nav").getAttribute("id"));if(e=n.getElementsByTagName("ul")[0],n.classList.contains("toggled")){if(n.classList.remove("toggled"),i.classList.remove("mobile-menu-open"),e.setAttribute("aria-hidden","true"),l.classList.contains("dropdown-hover"))for(var o=e.querySelectorAll("li.menu-item-has-children"),a=0;a<o.length;a++)o[a].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","")}else if(n.classList.add("toggled"),i.classList.add("mobile-menu-open"),e.setAttribute("aria-hidden","false"),l.classList.contains("dropdown-hover"))for(var o=e.querySelectorAll("li.menu-item-has-children"),a=0;a<o.length;a++)o[a].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","0")},!1);for(var r=function(e,t){if(!t)var t=this;if((t.closest("nav").classList.contains("toggled")||i.classList.contains("slide-opened"))&&!l.classList.contains("dropdown-click")){e.preventDefault();var s=t.closest("li"),n=s.querySelector(".sub-menu");s.classList.toggle("sfHover"),n.classList.toggle("toggled-on")}e.stopPropagation()},a=0;a<n.length;a++)n[a].addEventListener("click",r,!1),n[a].addEventListener("keypress",function(e){13===(e.which||e.keyCode)&&r(e,this)},!1);var c=function(){for(var e=0;e<s.length;e++)if(null===s[e].offsetParent){var t=s[e].closest("nav"),n=t.getElementsByTagName("ul")[0],o=n.getElementsByTagName("li"),l=n.getElementsByTagName("ul");if(t){t.classList.remove("toggled"),i.classList.remove("mobile-menu-open");for(var a=0;a<o.length;a++)o[a].classList.remove("sfHover");for(var r=0;r<l.length;r++)l[r].classList.remove("toggled-on");n&&n.setAttribute("aria-hidden","true")}}};if(window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1),l.classList.contains("dropdown-hover")){for(var d=function(){if(!this.closest("nav").classList.contains("toggled")&&!this.closest("nav").classList.contains("slideout-navigation"))for(var e=this;-1===e.className.indexOf("main-nav");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("sfHover")?e.className=e.className.replace(" sfHover",""):e.className+=" sfHover"),e=e.parentElement},a=0;a<o.length;a++)o[a].addEventListener("focus",d),o[a].addEventListener("blur",d);if("touchend"in document.documentElement)for(a=0;a<t.length;a++)t[a].addEventListener("touchend",function(e){if(!t[a].closest("nav").classList.contains("toggled")&&1===e.touches.length&&(e.stopPropagation(),!this.classList.contains("sfHover"))){e.target!==this&&e.target.parentNode!==this||e.preventDefault();var s=t[a].closest("nav").querySelectorAll("ul.toggled-on");if(s&&!this.closest("ul").classList.contains("toggled-on")&&!this.closest("li").classList.contains("sfHover"))for(var n=0;n<s.length;n++)s[n].classList.remove("toggled-on"),s[n].closest("li").classList.remove("sfHover");this.classList.add("sfHover"),document.addEventListener("touchend",closeDropdown=function(e){e.stopPropagation(),this.classList.remove("sfHover"),document.removeEventListener("touchend",closeDropdown)})}},!0);for(var u=function(e){this.closest("nav").classList.contains("toggled")||this.classList.toggle("sfHover")},m=document.querySelectorAll(".secondary-navigation .menu-item-has-children"),a=0;a<m.length;a++)m[a].addEventListener("mouseenter",u),m[a].addEventListener("mouseleave",u);for(a=0;a<o.length;a++)o[a].addEventListener("click",function(t){if(this.closest("nav").classList.contains("toggled")||i.classList.contains("slide-opened")){var s=this.closest("nav"),n=this.getAttribute("href");if("#"==n||""==n){t.preventDefault();var o=this.closest("li");o.classList.toggle("sfHover");var l=o.querySelector(".sub-menu");l&&l.classList.toggle("toggled-on")}"#"===n||""===n||navigator.userAgent.match(/iemobile/i)||setTimeout(function(){s.classList.remove("toggled"),i.classList.remove("mobile-menu-open"),e.setAttribute("aria-hidden","true")},200)}},!1)}var g=function(e,t){if(e.preventDefault(),e.stopPropagation(),!t)var t=this;var s=t.closest("li"),n=t.closest("nav").querySelectorAll("ul.toggled-on");if(n&&!t.closest("ul").classList.contains("toggled-on")&&!t.closest("li").classList.contains("sfHover"))for(var o=0;o<n.length;o++)n[o].classList.remove("toggled-on"),n[o].closest("li").classList.remove("sfHover");s.classList.toggle("sfHover"),l.classList.contains("dropdown-click-menu-item")?t.parentNode.querySelector(".sub-menu").classList.toggle("toggled-on"):l.classList.contains("dropdown-click-arrow")&&s.querySelector(".sub-menu").classList.toggle("toggled-on")};if(l.classList.contains("dropdown-click")){var v=document.querySelectorAll(".main-nav .menu-item-has-children > a");if(l.classList.contains("dropdown-click-menu-item"))for(a=0;a<v.length;a++)v[a].addEventListener("click",g,!0);if(l.classList.contains("dropdown-click-arrow")){for(a=0;a<document.querySelectorAll(".main-nav .menu-item-has-children > a").length;a++)"#"==document.querySelectorAll(".main-nav .menu-item-has-children > a")[a].getAttribute("href")&&document.querySelectorAll(".main-nav .menu-item-has-children > a")[a].classList.add("menu-item-dropdown-click");for(var f=document.querySelectorAll(".main-nav .menu-item-has-children > a .dropdown-menu-toggle"),a=0;a<f.length;a++)f[a].addEventListener("click",g,!1),f[a].addEventListener("keydown",function(e){var t=this;13===(e.which||e.keyCode)&&g(e,t)},!1);for(a=0;a<document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click").length;a++)document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click")[a].addEventListener("click",g,!1)}var h=function(){if(document.querySelector("nav ul .toggled-on"))for(var e=document.querySelectorAll("nav ul .toggled-on"),t=0;t<e.length;t++)e[t].classList.remove("toggled-on"),e[t].closest(".sfHover").classList.remove("sfHover")};document.addEventListener("click",function(e){e.target.closest(".sfHover")||h()},!1),document.addEventListener("keydown",function(e){27===(e.which||e.keyCode)&&h()},!1)}}}();