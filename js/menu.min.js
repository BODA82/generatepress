window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,s=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=s.length;--t>=0&&s.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),isVisible=function(e){return null!==e.offsetParent},getSiblings=function(e){for(var t=[],s=e.parentNode.firstChild;s;s=s.nextSibling)1===s.nodeType&&s!==e&&t.push(s);return t},Element.prototype.hasClass=function(e){return this.classList?this.classList.contains(e):new RegExp(" "+e+" ").test(" "+this.className+" ")},Element.prototype.addClass=function(e){this.classList?this.classList.add(e):this.hasClass(e)||(this.className+=" "+e)},Element.prototype.removeClass=function(e){if(this.classList)this.classList.remove(e);else{var t=" "+this.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(e)){for(;t.indexOf(" "+e+" ")>=0;)t=t.replace(" "+e+" "," ");this.className=t.replace(/^\s+|\s+$/g," ")}}},Element.prototype.toggleClass=function(e){if(this.classList)this.classList.toggle(e);else{var t=" "+this.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(e)){for(;t.indexOf(" "+e+" ")>=0;)t=t.replace(" "+e+" "," ");this.className=t.replace(/^\s+|\s+$/g," ")}else this.className+=" "+e}};for(var parentElements=document.querySelectorAll(".sf-menu .menu-item-has-children"),nav,allNavToggles=document.querySelectorAll(".menu-toggle"),searchIcons=document.querySelectorAll(".search-item a"),navToggle=document.querySelector(".menu-toggle"),dropdownToggle=document.querySelectorAll("nav .dropdown-menu-toggle"),navLinks=document.querySelectorAll("nav a"),touchEvent=("ontouchstart"in document.documentElement?"touchstart":"click"),htmlEl=document.documentElement,toggleSubMenu=function(e){var t=this.closest(".main-nav").previousElementSibling;isVisible(t)||this.toggleClass("sfHover")},i=0;i<parentElements.length;i++)document.body.hasClass("dropdown-hover")&&(parentElements[i].addEventListener("mouseenter",toggleSubMenu),parentElements[i].addEventListener("mouseleave",toggleSubMenu));if(document.body.hasClass("dropdown-hover")&&"ontouchstart"in document.documentElement)for(var i=0;i<parentElements.length;i++){var $this=parentElements[i],mobile=$this.closest(".main-nav").previousElementSibling,closestParent=$this.parentNode.closest(".menu-item-has-children");isVisible(mobile)||$this.addEventListener("touchstart",function(e){if(1===e.touches.length&&(e.stopPropagation(),!this.hasClass("sfHover"))){e.target!==this&&e.target.parentNode!==this||e.preventDefault();for(var t=this.closest("li"),s=getSiblings(t),n=0;n<s.length;n++)s[n].querySelector(".toggled-on")&&s[n].querySelector(".toggled-on").removeClass("toggled-on"),s[n].removeClass("sfHover");this.addClass("sfHover"),document.addEventListener("touchstart",closeDropdown=function(e){e.stopPropagation(),this.removeClass("sfHover"),document.removeEventListener("touchstart",closeDropdown)})}},!0)}for(var toggleFocus=function(){var e=this.closest(".main-nav").previousElementSibling;if(!isVisible(e)&&!document.body.hasClass("dropdown-click"))for(var t=this;-1===t.className.indexOf("main-nav");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("sfHover")?t.className=t.className.replace(" sfHover",""):t.className+=" sfHover"),t=t.parentElement},i=0;i<navLinks.length;i++)navLinks[i].addEventListener("focus",toggleFocus),navLinks[i].addEventListener("blur",toggleFocus);toggleNav=function(){this.getAttribute("data-nav")?parentContainer=document.getElementById(this.getAttribute("data-nav")):parentContainer=document.getElementById(this.closest("nav").getAttribute("id")),nav=parentContainer.getElementsByTagName("ul")[0],parentContainer.hasClass("toggled")?(parentContainer.removeClass("toggled"),htmlEl.removeClass("mobile-menu-open"),nav.setAttribute("aria-hidden","true")):(parentContainer.addClass("toggled"),htmlEl.addClass("mobile-menu-open"),nav.setAttribute("aria-hidden","false"))};for(var i=0;i<allNavToggles.length;i++)allNavToggles[i].addEventListener(touchEvent,toggleNav,!1),allNavToggles[i].addEventListener("keypress",function(){13===(e.which||e.keyCode)&&toggleNav()},!1);toggleSubNav=function(e){if(isVisible(navToggle)&&!document.body.hasClass("dropdown-click")){e.preventDefault();var t=this.closest("li"),s=t.querySelector(".sub-menu");t.toggleClass("sfHover"),s.toggleClass("toggled-on")}e.stopPropagation()};for(var i=0;i<dropdownToggle.length;i++)dropdownToggle[i].addEventListener(touchEvent,toggleSubNav,!1);checkMobile=function(){for(var e=0;e<allNavToggles.length;e++)if(!isVisible(allNavToggles[e])){var t=allNavToggles[e].closest("nav"),s=t.getElementsByTagName("ul")[0],n=s.getElementsByTagName("li"),o=s.getElementsByTagName("ul");if(t){t.removeClass("toggled"),htmlEl.removeClass("mobile-menu-open");for(var a=0;a<n.length;a++)n[a].removeClass("sfHover");for(var l=0;l<o.length;l++)o[l].removeClass("toggled-on");s&&s.setAttribute("aria-hidden","true")}}},window.addEventListener("resize",checkMobile,!1),window.addEventListener("orientationchange",checkMobile,!1);for(var i=0;i<navLinks.length;i++)navLinks[i].addEventListener(touchEvent,function(e){if(isVisible(navToggle)&&!document.body.hasClass("dropdown-click")){var t=this.closest("nav"),s=this.getAttribute("href");if("#"==s||""==s){e.preventDefault();var n=this.closest("li");n.toggleClass("sfHover");var o=n.querySelector(".sub-menu");o&&o.toggleClass("toggled-on")}"#"===s||""===s||navigator.userAgent.match(/iemobile/i)||setTimeout(function(){t.removeClass("toggled"),htmlEl.removeClass("mobile-menu-open"),nav.setAttribute("aria-hidden","true")},200)}},!1);if(dropdownClick=function(e){e.preventDefault();var t=this,s=t.closest("li"),n=getSiblings(s);t.closest("nav").hasClass(".main-navigation")&&isVisible(".secondary-navigation ul.toggled-on")&&document.querySelector(".secondary-navigation .main-nav .menu-item-has-children > a").parentNode.removeClass("sfHover");for(var o=0;o<n.length;o++)n[o].querySelector(".toggled-on")&&n[o].querySelector(".toggled-on").removeClass("toggled-on"),n[o].removeClass("sfHover");s.toggleClass("sfHover"),document.body.hasClass("dropdown-click-menu-item")?t.parentNode.querySelector(".sub-menu").toggleClass("toggled-on"):document.body.hasClass("dropdown-click-arrow")&&s.querySelector(".sub-menu").toggleClass("toggled-on")},document.body.hasClass("dropdown-click")){var parentElementLinks=document.querySelectorAll(".sf-menu .menu-item-has-children > a"),dropdownToggleLinks=document.querySelectorAll(".sf-menu .menu-item-has-children > a .dropdown-menu-toggle");if(document.body.hasClass("dropdown-click-menu-item"))for(var i=0;i<parentElementLinks.length;i++)parentElementLinks[i].addEventListener(touchEvent,dropdownClick,!0);if(document.body.hasClass("dropdown-click-arrow")){for(var i=0;i<document.querySelectorAll(".sf-menu .menu-item-has-children > a").length;i++)"#"==document.querySelectorAll(".sf-menu .menu-item-has-children > a")[i].getAttribute("href")&&document.querySelectorAll(".sf-menu .menu-item-has-children > a")[i].addClass("menu-item-dropdown-click");for(var i=0;i<dropdownToggleLinks.length;i++)dropdownToggleLinks[i].addEventListener(touchEvent,dropdownClick,!1),dropdownToggleLinks[i].addEventListener("keydown",function(e){13===(e.which||e.keyCode)&&dropdownClick(e)},!1);for(var i=0;i<document.querySelectorAll(".sf-menu .menu-item-has-children > a.menu-item-dropdown-click").length;i++)document.querySelectorAll(".sf-menu .menu-item-has-children > a.menu-item-dropdown-click")[i].addEventListener(touchEvent,dropdownClick,!1)}}if(toggleSearch=function(e,t){if(e.preventDefault(),!t)var t=this.parentNode;var s=t.closest("nav");t.getAttribute("data-nav")&&(s=document.querySelector(this.getAttribute("data-nav")));var n=s.querySelector(".navigation-search");isVisible(n)?(t.querySelector("i").removeClass("fa-close"),t.querySelector("i").addClass("fa-search"),t.style.opacity="1",t.style.float="",n.style.display="none",n.removeClass("nav-search-active"),t.removeClass("active")):(n.style.display="block",t.style.opacity="0",n.querySelector("input").focus(),n.addClass("nav-search-active"),setTimeout(function(){t.querySelector("i").removeClass("fa-search"),t.querySelector("i").addClass("fa-close"),t.addClass("active"),document.body.hasClass("rtl")?t.style.float="left":t.style.float="right",t.style.opacity="1"},250))},document.body.hasClass("nav-search-enabled")){for(var i=0;i<searchIcons.length;i++)searchIcons[i].addEventListener(touchEvent,toggleSearch,!1);document.addEventListener("keydown",function(e){document.querySelector(".navigation-search").hasClass("nav-search-active")&&27===(e.which||e.keyCode)&&toggleSearch(e,document.querySelector(".search-item.active a"))},!1)}