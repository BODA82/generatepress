!function(){if(!Element.prototype.addEventListener){var e=[],t=function(t,o){var n=this,s=function(e){e.target=e.srcElement,e.currentTarget=n,void 0!==o.handleEvent?o.handleEvent(e):o.call(n,e)};if("DOMContentLoaded"==t){var a=function(e){"complete"==document.readyState&&s(e)};if(document.attachEvent("onreadystatechange",a),e.push({object:this,type:t,listener:o,wrapper:a}),"complete"==document.readyState){var l=new Event;l.srcElement=window,a(l)}}else this.attachEvent("on"+t,s),e.push({object:this,type:t,listener:o,wrapper:s})};Element.prototype.addEventListener=t,HTMLDocument&&(HTMLDocument.prototype.addEventListener=t),Window&&(Window.prototype.addEventListener=t)}Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,o=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=o.length;--t>=0&&o.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),isVisible=function(e){return null!==e.offsetParent},getSiblings=function(e){for(var t=[],o=e.parentNode.firstChild;o;o=o.nextSibling)1===o.nodeType&&o!==e&&t.push(o);return t},Element.prototype.hasClass=function(e){return this.classList?this.classList.contains(e):new RegExp(" "+e+" ").test(" "+this.className+" ")},Element.prototype.addClass=function(e){this.classList?this.classList.add(e):this.hasClass(e)||(this.className+=" "+e)},Element.prototype.removeClass=function(e){if(this.classList)this.classList.remove(e);else{var t=" "+this.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(e)){for(;t.indexOf(" "+e+" ")>=0;)t=t.replace(" "+e+" "," ");this.className=t.replace(/^\s+|\s+$/g," ")}}},Element.prototype.toggleClass=function(e){if(this.classList)this.classList.toggle(e);else{var t=" "+this.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(e)){for(;t.indexOf(" "+e+" ")>=0;)t=t.replace(" "+e+" "," ");this.className=t.replace(/^\s+|\s+$/g," ")}else this.className+=" "+e}};for(var o,n=document.querySelectorAll(".sf-menu .menu-item-has-children"),s=document.querySelectorAll(".menu-toggle"),a=document.querySelector(".menu-toggle"),l=document.querySelectorAll("nav .dropdown-menu-toggle"),r=document.querySelectorAll("nav ul a"),i=("ontouchend"in document.documentElement?"touchend":"click"),c=document.documentElement,d=function(e){var t=this.closest(".main-nav").previousElementSibling;isVisible(t)||this.toggleClass("sfHover")},u=0;u<n.length;u++)document.body.hasClass("dropdown-hover")&&(n[u].addEventListener("mouseenter",d),n[u].addEventListener("mouseleave",d));if(document.body.hasClass("dropdown-hover")&&"ontouchstart"in document.documentElement)for(u=0;u<n.length;u++){var m=n[u],v=m.closest(".main-nav").previousElementSibling;m.parentNode.closest(".menu-item-has-children");isVisible(v)||m.addEventListener("touchstart",function(e){if(1===e.touches.length&&(e.stopPropagation(),!this.hasClass("sfHover"))){e.target!==this&&e.target.parentNode!==this||e.preventDefault();for(var t=this.closest("li"),o=getSiblings(t),n=0;n<o.length;n++)o[n].querySelector(".toggled-on")&&o[n].querySelector(".toggled-on").removeClass("toggled-on"),o[n].removeClass("sfHover");this.addClass("sfHover"),document.addEventListener("touchstart",closeDropdown=function(e){e.stopPropagation(),this.removeClass("sfHover"),document.removeEventListener("touchstart",closeDropdown)})}},!0)}for(var g=function(){var e=this.closest(".main-nav").previousElementSibling;if(!(e&&isVisible(e)||document.body.hasClass("dropdown-click")))for(var t=this;-1===t.className.indexOf("main-nav");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("sfHover")?t.className=t.className.replace(" sfHover",""):t.className+=" sfHover"),t=t.parentElement},u=0;u<r.length;u++)r[u].addEventListener("focus",g),r[u].addEventListener("blur",g);toggleNav=function(e,t){if(!t)var t=this;if(t.getAttribute("data-nav"))n=document.getElementById(t.getAttribute("data-nav"));else var n=document.getElementById(t.closest("nav").getAttribute("id"));if(console.log(n),o=n.getElementsByTagName("ul")[0],n.hasClass("toggled")){if(n.removeClass("toggled"),c.removeClass("mobile-menu-open"),o.setAttribute("aria-hidden","true"),document.body.hasClass("dropdown-hover"))for(var s=o.querySelectorAll("li.menu-item-has-children"),a=0;a<s.length;a++)s[a].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","")}else if(n.addClass("toggled"),c.addClass("mobile-menu-open"),o.setAttribute("aria-hidden","false"),document.body.hasClass("dropdown-hover"))for(var s=o.querySelectorAll("li.menu-item-has-children"),a=0;a<s.length;a++)s[a].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","0")};for(u=0;u<s.length;u++)s[u].addEventListener(i,toggleNav,!1),s[u].addEventListener("keypress",function(e){13===(e.which||e.keyCode)&&toggleNav(e,this)},!1);toggleSubNav=function(e,t){if(!t)var t=this;if((isVisible(a)||c.hasClass("slide-opened"))&&!document.body.hasClass("dropdown-click")){e.preventDefault();var o=t.closest("li"),n=o.querySelector(".sub-menu");console.log(o),o.toggleClass("sfHover"),n.toggleClass("toggled-on")}e.stopPropagation()};for(u=0;u<l.length;u++)l[u].addEventListener(i,toggleSubNav,!1),l[u].addEventListener("keypress",function(e){13===(e.which||e.keyCode)&&toggleSubNav(e,this)},!1);checkMobile=function(){for(var e=0;e<s.length;e++)if(!isVisible(s[e])){var t=s[e].closest("nav"),o=t.getElementsByTagName("ul")[0],n=o.getElementsByTagName("li"),a=o.getElementsByTagName("ul");if(t){t.removeClass("toggled"),c.removeClass("mobile-menu-open");for(var l=0;l<n.length;l++)n[l].removeClass("sfHover");for(var r=0;r<a.length;r++)a[r].removeClass("toggled-on");o&&o.setAttribute("aria-hidden","true")}}},window.addEventListener("resize",checkMobile,!1),window.addEventListener("orientationchange",checkMobile,!1);for(u=0;u<r.length;u++)r[u].addEventListener(i,function(e){if((isVisible(a)||c.hasClass("slide-opened"))&&!document.body.hasClass("dropdown-click")){var t=this.closest("nav"),n=this.getAttribute("href");if("#"==n||""==n){e.preventDefault();var s=this.closest("li");s.toggleClass("sfHover");var l=s.querySelector(".sub-menu");l&&l.toggleClass("toggled-on")}"#"===n||""===n||navigator.userAgent.match(/iemobile/i)||setTimeout(function(){t.removeClass("toggled"),c.removeClass("mobile-menu-open"),o.setAttribute("aria-hidden","true")},200)}},!1);if(dropdownClick=function(e,t){if(e.preventDefault(),e.stopPropagation(),!t)var t=this;var o=t.closest("li"),n=getSiblings(o);t.closest("nav").hasClass(".main-navigation")&&isVisible(document.querySelector(".secondary-navigation ul.toggled-on"))&&document.querySelector(".secondary-navigation .main-nav .menu-item-has-children > a").parentNode.removeClass("sfHover");for(var s=0;s<n.length;s++)n[s].querySelector(".toggled-on")&&n[s].querySelector(".toggled-on").removeClass("toggled-on"),n[s].removeClass("sfHover");o.toggleClass("sfHover"),document.body.hasClass("dropdown-click-menu-item")?t.parentNode.querySelector(".sub-menu").toggleClass("toggled-on"):document.body.hasClass("dropdown-click-arrow")&&o.querySelector(".sub-menu").toggleClass("toggled-on")},document.body.hasClass("dropdown-click")){var h=document.querySelectorAll(".main-nav .menu-item-has-children > a");if(document.body.hasClass("dropdown-click-menu-item"))for(u=0;u<h.length;u++)h[u].addEventListener(i,dropdownClick,!0);if(document.body.hasClass("dropdown-click-arrow")){for(u=0;u<document.querySelectorAll(".main-nav .menu-item-has-children > a").length;u++)"#"==document.querySelectorAll(".main-nav .menu-item-has-children > a")[u].getAttribute("href")&&document.querySelectorAll(".main-nav .menu-item-has-children > a")[u].addClass("menu-item-dropdown-click");for(var f=document.querySelectorAll(".main-nav .menu-item-has-children > a .dropdown-menu-toggle"),u=0;u<f.length;u++)f[u].addEventListener(i,dropdownClick,!1),f[u].addEventListener("keydown",function(e){var t=this;13===(e.which||e.keyCode)&&dropdownClick(e,t)},!1);for(u=0;u<document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click").length;u++)document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click")[u].addEventListener(i,dropdownClick,!1)}document.addEventListener("click",function(e){if(document.querySelector("nav ul .toggled-on")&&!e.target.closest(".sfHover"))for(var t=document.querySelectorAll("nav ul .toggled-on"),o=0;o<t.length;o++)t[o].removeClass("toggled-on"),t[o].closest(".sfHover").removeClass("sfHover")},!1),document.addEventListener("keydown",function(e){if(document.querySelector("nav ul .toggled-on")&&27===(e.which||e.keyCode))for(var t=document.querySelectorAll("nav ul .toggled-on"),o=0;o<t.length;o++)t[o].removeClass("toggled-on"),t[o].closest(".sfHover").removeClass("sfHover")},!1)}if(toggleSearch=function(e,t){if(e.preventDefault(),!t)var t=this;var o=t.closest("nav");t.getAttribute("data-nav")&&(o=document.querySelector(this.getAttribute("data-nav")));var n=o.querySelector(".navigation-search");isVisible(n)?(t.querySelector("i").removeClass("fa-close"),t.querySelector("i").addClass("fa-search"),t.style.opacity="1",t.style.float="",n.style.display="none",n.removeClass("nav-search-active"),t.removeClass("active")):(n.style.display="block",t.style.opacity="0",n.querySelector("input").focus(),n.addClass("nav-search-active"),setTimeout(function(){t.querySelector("i").removeClass("fa-search"),t.querySelector("i").addClass("fa-close"),t.addClass("active"),document.body.hasClass("rtl")?t.style.float="left":t.style.float="right",t.style.opacity="1"},250))},document.body.hasClass("nav-search-enabled")){for(var p=document.querySelectorAll(".search-item"),u=0;u<p.length;u++)p[u].addEventListener(i,toggleSearch,!1);document.addEventListener("click",function(e){if(document.querySelector(".navigation-search.nav-search-active")&&!e.target.closest(".navigation-search")&&!e.target.closest(".search-item"))for(var t=document.querySelectorAll(".search-item.active"),o=0;o<t.length;o++)toggleSearch(e,t[o])},!1),document.addEventListener("keydown",function(e){if(document.querySelector(".navigation-search.nav-search-active")&&27===(e.which||e.keyCode))for(var t=document.querySelectorAll(".search-item.active"),o=0;o<t.length;o++)toggleSearch(event,t[o])},!1)}}();
