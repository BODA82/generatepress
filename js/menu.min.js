!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this,n=this;if(!document.documentElement.contains(t))return null;do{if(n.matches(e))return n;n=n.parentElement}while(null!==n);return null});var e=function(e){return null!==e.offsetParent};Element.prototype.siblings||(Element.prototype.siblings=function(){for(var e=[],t=this.parentNode.firstChild;t;t=t.nextSibling)1===t.nodeType&&t!==this&&e.push(t);return e});for(var t,n=document.querySelectorAll(".sf-menu .menu-item-has-children"),o=document.querySelectorAll(".menu-toggle"),s=document.querySelectorAll("nav .dropdown-menu-toggle"),l=document.querySelectorAll("nav ul a"),i=document.documentElement,r=0;r<o.length;r++)o[r].addEventListener("click",function(e,n){if(!n)var n=this;if(n.getAttribute("data-nav"))o=document.getElementById(n.getAttribute("data-nav"));else var o=document.getElementById(n.closest("nav").getAttribute("id"));if(t=o.getElementsByTagName("ul")[0],o.classList.contains("toggled")){if(o.classList.remove("toggled"),i.classList.remove("mobile-menu-open"),t.setAttribute("aria-hidden","true"),document.body.classList.contains("dropdown-hover"))for(var s=t.querySelectorAll("li.menu-item-has-children"),l=0;l<s.length;l++)s[l].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","")}else if(o.classList.add("toggled"),i.classList.add("mobile-menu-open"),t.setAttribute("aria-hidden","false"),document.body.classList.contains("dropdown-hover"))for(var s=t.querySelectorAll("li.menu-item-has-children"),l=0;l<s.length;l++)s[l].querySelector(".dropdown-menu-toggle").setAttribute("tabindex","0")},!1);for(var a=function(e,t){if(!t)var t=this;if((t.closest("nav").classList.contains("toggled")||i.classList.contains("slide-opened"))&&!document.body.classList.contains("dropdown-click")){e.preventDefault();var n=t.closest("li"),o=n.querySelector(".sub-menu");n.classList.toggle("sfHover"),o.classList.toggle("toggled-on")}e.stopPropagation()},r=0;r<s.length;r++)s[r].addEventListener("click",a,!1),s[r].addEventListener("keypress",function(e){13===(e.which||e.keyCode)&&a(e,this)},!1);var c=function(){for(var t=0;t<o.length;t++)if(!e(o[t])){var n=o[t].closest("nav"),s=n.getElementsByTagName("ul")[0],l=s.getElementsByTagName("li"),r=s.getElementsByTagName("ul");if(n){n.classList.remove("toggled"),i.classList.remove("mobile-menu-open");for(var a=0;a<l.length;a++)l[a].classList.remove("sfHover");for(var c=0;c<r.length;c++)r[c].classList.remove("toggled-on");s&&s.setAttribute("aria-hidden","true")}}};window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1);for(r=0;r<l.length;r++)l[r].addEventListener("click",function(e){if((this.closest("nav").classList.contains("toggled")||i.classList.contains("slide-opened"))&&!document.body.classList.contains("dropdown-click")){var n=this.closest("nav"),o=this.getAttribute("href");if("#"==o||""==o){e.preventDefault();var s=this.closest("li");s.classList.toggle("sfHover");var l=s.querySelector(".sub-menu");l&&l.classList.toggle("toggled-on")}"#"===o||""===o||navigator.userAgent.match(/iemobile/i)||setTimeout(function(){n.classList.remove("toggled"),i.classList.remove("mobile-menu-open"),t.setAttribute("aria-hidden","true")},200)}},!1);if(document.body.classList.contains("dropdown-hover")){for(var d=function(){if(!this.closest("nav").classList.contains("toggled")&&!this.closest("nav").classList.contains("slideout-navigation"))for(var e=this;-1===e.className.indexOf("main-nav");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("sfHover")?e.className=e.className.replace(" sfHover",""):e.className+=" sfHover"),e=e.parentElement},r=0;r<l.length;r++)l[r].addEventListener("focus",d),l[r].addEventListener("blur",d);if("touchend"in document.documentElement)for(r=0;r<n.length;r++)n[r].addEventListener("touchend",function(e){if(!n[r].closest("nav").classList.contains("toggled")&&1===e.touches.length&&(e.stopPropagation(),!this.classList.contains("sfHover"))){e.target!==this&&e.target.parentNode!==this||e.preventDefault();for(var t=this.closest("li").siblings(),o=0;o<t.length;o++)t[o].querySelector(".toggled-on")&&t[o].querySelector(".toggled-on").classList.remove("toggled-on"),t[o].classList.remove("sfHover");this.classList.add("sfHover"),document.addEventListener("touchend",closeDropdown=function(e){e.stopPropagation(),this.classList.remove("sfHover"),document.removeEventListener("touchend",closeDropdown)})}},!0);for(var u=function(e){this.closest("nav").classList.contains("toggled")||this.classList.toggle("sfHover")},m=document.querySelectorAll(".secondary-navigation .menu-item-has-children"),r=0;r<m.length;r++)m[r].addEventListener("mouseenter",u),m[r].addEventListener("mouseleave",u)}var g=function(e,t){if(e.preventDefault(),e.stopPropagation(),!t)var t=this;for(var n=t.closest("li"),o=n.siblings(),s=(t.closest("nav"),0);s<o.length;s++)o[s].querySelector(".toggled-on")&&o[s].querySelector(".toggled-on").classList.remove("toggled-on"),o[s].classList.remove("sfHover");n.classList.toggle("sfHover"),document.body.classList.contains("dropdown-click-menu-item")?t.parentNode.querySelector(".sub-menu").classList.toggle("toggled-on"):document.body.classList.contains("dropdown-click-arrow")&&n.querySelector(".sub-menu").classList.toggle("toggled-on")};if(document.body.classList.contains("dropdown-click")){var v=document.querySelectorAll(".main-nav .menu-item-has-children > a");if(document.body.classList.contains("dropdown-click-menu-item"))for(r=0;r<v.length;r++)v[r].addEventListener("click",g,!0);if(document.body.classList.contains("dropdown-click-arrow")){for(r=0;r<document.querySelectorAll(".main-nav .menu-item-has-children > a").length;r++)"#"==document.querySelectorAll(".main-nav .menu-item-has-children > a")[r].getAttribute("href")&&document.querySelectorAll(".main-nav .menu-item-has-children > a")[r].classList.add("menu-item-dropdown-click");for(var h=document.querySelectorAll(".main-nav .menu-item-has-children > a .dropdown-menu-toggle"),r=0;r<h.length;r++)h[r].addEventListener("click",g,!1),h[r].addEventListener("keydown",function(e){var t=this;13===(e.which||e.keyCode)&&g(e,t)},!1);for(r=0;r<document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click").length;r++)document.querySelectorAll(".main-nav .menu-item-has-children > a.menu-item-dropdown-click")[r].addEventListener("click",g,!1)}document.addEventListener("click",function(e){if(document.querySelector("nav ul .toggled-on")&&!e.target.closest(".sfHover"))for(var t=document.querySelectorAll("nav ul .toggled-on"),n=0;n<t.length;n++)t[n].classList.remove("toggled-on"),t[n].closest(".sfHover").classList.remove("sfHover")},!1),document.addEventListener("keydown",function(e){if(document.querySelector("nav ul .toggled-on")&&27===(e.which||e.keyCode))for(var t=document.querySelectorAll("nav ul .toggled-on"),n=0;n<t.length;n++)t[n].classList.remove("toggled-on"),t[n].closest(".sfHover").classList.remove("sfHover")},!1)}}}();